# Beast Mode: Micro-Fix Workflow
# Rapid bug fix loop: Analyst -> Dev -> QA. < 30 mins.

id: micro-fix
name: "Micro-Fix"
description: "Rapid bug fix loop: Analyst -> Dev -> QA. < 30 mins."
estimated_time: "15-30 minutes"

trigger_conditions:
  - "fix"
  - "bug"
  - "quick"

trigger_keywords:
  - limit
  - fix
  - mistake

phases:
  - phase: "Triaging"
    agent: analyst
    command: "*quick-diag"
    instruction: |
      Read `templates/00-context-fuel.tmpl.md`.
      Identify the root cause in 3 sentences max.
      Output: `docs/bmad/{slug}/01-micro-analysis.md`
    artifact: "docs/bmad/{slug}/01-micro-analysis.md"
    required: true

  - phase: "Patching"
    agent: dev
    command: "*implement-fix"
    instruction: |
      Apply the fix.
      Constraint: Touch ONLY the files listed in the analysis.
      Output: `docs/bmad/{slug}/03-patch-notes.md`
    artifact: "docs/bmad/{slug}/03-patch-notes.md"
    required: true

  - phase: "Verifying"
    agent: qa (TEA)
    command: "*quick-check"
    instruction: |
      Verify the fix against the 'Evidence' provided in Context Fuel.
      Output: `docs/bmad/{slug}/04-verification.md` (Pass/Fail)
    artifact: "docs/bmad/{slug}/04-verification.md"
    required: true
    gates:
      - "Fix verified"

output_sequence:
  - "docs/bmad/{slug}/01-micro-analysis.md"
  - "docs/bmad/{slug}/03-patch-notes.md"
  - "docs/bmad/{slug}/04-verification.md"

next_workflow:
  if_success: "none"
  if_fail: "micro-fix"
